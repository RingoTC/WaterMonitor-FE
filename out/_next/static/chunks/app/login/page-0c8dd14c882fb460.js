(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4828:function(e,s,t){Promise.resolve().then(t.bind(t,5409))},5409:function(e,s,t){"use strict";t.r(s);var r=t(7437),n=t(2265),a=t(3198),i=t(7681),l=t(4033);t(7148);var o=t(1396),c=t.n(o);s.default=()=>{let[e,s]=(0,n.useState)(""),[t,o]=(0,n.useState)(""),u=(0,a.I0)(),d=(0,a.v9)(e=>e.auth.errorMessage),h=(0,a.v9)(e=>e.auth.user),m=(0,l.useRouter)();return(0,a.v9)(e=>e.auth.isAuthenticated),(0,n.useEffect)(()=>{h&&m.push("/home")},[h]),(0,r.jsx)("div",{className:"home p-0",children:h?(0,r.jsx)("div",{}):(0,r.jsx)("div",{className:"container-fluid login-container-fluid",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-6 ",children:(0,r.jsx)("img",{src:"images/login.png",className:"left-half",alt:"..."})}),(0,r.jsxs)("div",{className:"col-md-6 login-container",children:[(0,r.jsx)("h2",{className:"login-title",children:"Let's Log In!"}),(0,r.jsxs)("form",{onSubmit:s=>{s.preventDefault(),u((0,i.pH)(e,t))},children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:(0,r.jsx)("b",{children:"Username"})}),(0,r.jsx)("input",{className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",value:e,onChange:e=>s(e.target.value),type:"text",placeholder:"Enter your username"}),(0,r.jsx)("div",{id:"emailHelp",className:"form-text",children:"Username, Phone Number or Email"})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:(0,r.jsx)("b",{children:"Password"})}),(0,r.jsx)("input",{className:"form-control",id:"exampleInputPassword1",placeholder:"Enter your password",value:t,onChange:e=>o(e.target.value),type:"password"})]}),(0,r.jsx)("div",{className:"d-grid gap-2",children:(0,r.jsx)("button",{className:"btn btn-primary login-button",type:"submit",children:"Log in"})}),d&&(0,r.jsx)("div",{className:"alert alert-danger",children:d})]}),(0,r.jsxs)("div",{className:"login-signup",children:["Don't have an account?",(0,r.jsx)(c(),{href:"/signup",children:" Sign Up"})]})]})]})})})}},7681:function(e,s,t){"use strict";t.d(s,{TX:function(){return logoutUser},ZP:function(){return auth},pH:function(){return loginUser}});var r=t(2173);let n="http://localhost:9000",a="LOGIN_REQUEST",i="LOGIN_SUCCESS",l="LOGIN_FAILURE",requestLogin=()=>({type:a}),receiveLogin=e=>({type:i,user:e}),loginError=e=>({type:l,message:e});function auth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isAuthenticated:!1,user:null,errorMessage:""},s=arguments.length>1?arguments[1]:void 0;switch(s.type){case a:return{...e,isFetching:!0,isAuthenticated:!1,user:null,errorMessage:""};case i:return{...e,isFetching:!1,isAuthenticated:!0,user:s.user,errorMessage:""};case l:return{...e,isFetching:!1,isAuthenticated:!1,user:null,errorMessage:s.message};case"LOGOUT_SUCCESS":return{...e,isAuthenticated:!1,user:null};default:return e}}let loginUser=(e,s)=>t=>(t(requestLogin()),r.Z.post("".concat(n,"/auth/login"),{username:e,password:s},{withCredentials:!0}).then(e=>{t(receiveLogin(e.data.user))}).catch(e=>{let s=e.response?e.response.data.message:e.message;t(loginError(s))})),logoutUser=()=>e=>r.Z.get("".concat(n,"/auth/logout"),{},{withCredentials:!0}).then(()=>{e({type:"LOGOUT_SUCCESS"})}).catch(e=>{console.error("Logout error:",e)})},7148:function(){},4033:function(e,s,t){e.exports=t(290)}},function(e){e.O(0,[580,198,396,971,864,744],function(){return e(e.s=4828)}),_N_E=e.O()}]);