(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{9:function(e,l,s){Promise.resolve().then(s.bind(s,9943))},5090:function(e,l,s){"use strict";s.d(l,{DY:function(){return userProfile},DZ:function(){return userUpdate},Nt:function(){return deleteSkill},Of:function(){return updateSkill},v7:function(){return addSkill}});var i=s(2173);let t=i.Z.create({baseURL:"".concat("http://localhost:9000","/user")}),userProfile=async e=>{let l=await t.get("/".concat(e));return l.data},userUpdate=async e=>{let l=await t.put("/change/".concat(e.username),e);return console.log(l.data),l.data},addSkill=async(e,l)=>{try{let s=await t.post("/change/".concat(e.username),{newSkill:l});return s.data}catch(e){throw console.error("Error adding skill:",e),e}},deleteSkill=async(e,l)=>{try{let s=await t.delete("/change/".concat(e,"/skills/").concat(l));return s.data}catch(e){throw console.error("Error deleting skill:",e),e}},updateSkill=async(e,l,s)=>{try{let i=await t.put("/change/".concat(e,"/skills/").concat(l),s);return console.log(i),i.data}catch(e){throw console.error("Error updating skill:",e),e}}},9943:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return Profile}});var i=s(7437);s(1571);var t=s(2265);s(5172);var a=s(6691),n=s.n(a);function ProfileImage(){return(0,i.jsx)(n(),{src:"/images/profile_default.png",width:"120",height:"120",className:"circle-cropped",alt:"profile picture"})}s(9696);var r=s(2510),c=s(9150),o=s(4606),d=s(1266),u=s(3198),m=s(5090),h=s(1396),p=s.n(h);function PersonInfoCard(){let e=(0,u.v9)(e=>e.userData);return(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"container mt-5",style:{lineHeight:"2.6"},children:(0,i.jsx)("div",{className:"row justify-content-center",children:(0,i.jsx)("div",{className:"bg-light col-12 col-lg-10",children:(0,i.jsxs)("div",{className:"row align-items-center",children:[(0,i.jsxs)("div",{className:"col-12 col-md-12 col-lg-3 mt-5 mb-5 text-center",children:[(0,i.jsx)(ProfileImage,{}),(0,i.jsx)("h2",{children:null==e?void 0:e.username})]}),(0,i.jsxs)("div",{className:"col-12 col-md-12 col-lg-4 text-left border-end",children:[(0,i.jsxs)("span",{children:["First Name: ",null==e?void 0:e.firstName]}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{children:["Last Name: ",null==e?void 0:e.lastName]}),(0,i.jsx)("br",{}),(0,i.jsxs)("span",{children:["Position: ",null==e?void 0:e.position]}),(0,i.jsx)("br",{}),(0,i.jsx)(r.E3g,{color:"blue"}),(0,i.jsxs)("span",{children:["Company: ",null==e?void 0:e.company]}),(0,i.jsx)("br",{}),(0,i.jsx)(c.Dme,{}),(0,i.jsxs)("span",{children:["Email: ",null==e?void 0:e.email]}),(0,i.jsx)("br",{}),(0,i.jsx)(o.lfG,{}),(0,i.jsxs)("span",{children:["Cellphone: ",null==e?void 0:e.cellphone]}),(0,i.jsx)("br",{}),(0,i.jsx)(d.fp2,{}),(0,i.jsxs)("span",{children:["Location: ",null==e?void 0:e.city,",",null==e?void 0:e.country]})]}),(0,i.jsxs)("div",{className:"col-12 col-md-12 col-lg-5 text-left",children:[(0,i.jsxs)("p",{children:["About: ",null==e?void 0:e.about]}),(0,i.jsx)(p(),{href:"/profile/editProfile",className:"btn btn-primary mt-3 d-none d-md-block",style:{width:"200px"},children:"Update Profile"})]})]})})})})})}var f=s(8978),x=s(4033);function Profile(){let e=(0,x.useRouter)(),l=(0,u.I0)(),s=(0,u.v9)(e=>e.auth.user),a=(0,u.v9)(e=>e.userData),fetchUser=async()=>{try{let e=await m.DY(s.username);l((0,f.M)(e))}catch(e){console.error(e)}};return(0,t.useEffect)(()=>{s?fetchUser():e.push("/login")},[l]),(0,i.jsx)("div",{className:"row justify-content-between",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(PersonInfoCard,{}),(0,i.jsxs)("div",{className:"row  justify-content-lg-center mt-5",children:[(0,i.jsxs)("div",{className:"col-2 col-lg-2 bg-light",style:{marginRight:"15px"},children:[(0,i.jsx)("h5",{className:"border-bottom mt-1",children:"Report to"}),(0,i.jsx)("br",{}),(0,i.jsx)("h5",{className:"border-bottom",children:"Work Together With"}),(0,i.jsx)("p",{children:"abc"})]}),(0,i.jsx)("div",{className:"col-10 col-sm-12 col-lg-8 bg-light mb-5",children:(0,i.jsxs)("div",{className:"row",children:[(0,i.jsx)("h3",{className:"mt-3",children:"SKILLS"}),(0,i.jsx)("ul",{className:"list-group",children:a.skills&&a.skills.map((e,l)=>(0,i.jsxs)("li",{className:"list-group-item ",children:[(0,i.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,i.jsx)("h5",{children:e.name}),e.certified&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("small",{className:"text-muted",children:(0,i.jsxs)("p",{children:["Certified ",new Date(e.certificationIssueDate).toLocaleDateString()]})})})]}),(0,i.jsxs)("p",{children:["Proficiency: ",e.proficiency]})]},l))})]})})]})]})})}},5172:function(e,l,s){"use strict";s.d(l,{Z:function(){return ProfileSkillsList}});var i=s(7437),t=s(2265),a=s(3198),n=s(8978),r=s(5090);function ProfileSkillsList(){let e=(0,a.I0)(),[l,s]=(0,t.useState)(""),c=(0,a.v9)(e=>e.userData),[o,d]=(0,t.useState)({name:"",proficiency:"Please select",certified:!1,issueDate:"",expirationDate:""}),[u,m]=(0,t.useState)(null),resetSkillForm=()=>{d({name:"",proficiency:"Please select",certified:!1,issueDate:"",expirationDate:""}),m(null)},handleAddSkill=async()=>{if(console.log(o),o.name&&o.proficiency){let l=await r.v7(c,o);e((0,n.M)(l)),resetSkillForm()}},handleDeleteSkill=async l=>{try{let s=await r.Nt(c.username,l);e((0,n.M)(s))}catch(e){console.error("Could not delete the skill",e)}},handleUpdateSkill=async()=>{if(u&&o.name&&"Please select"!==o.proficiency)try{console.log(o);let l=await r.Of(c.username,u,o);e((0,n.M)(l)),resetSkillForm()}catch(e){console.error("Error updating skill:",e)}};return(0,i.jsxs)("div",{className:"mb-5",children:[(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",id:"skillNameLabel",children:"Skill Name"}),(0,i.jsx)("input",{type:"text",className:"form-control","aria-label":"Skill Name","aria-describedby":"skillNameLabel",value:o.name,onChange:e=>d({...o,name:e.target.value})})]}),(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("span",{className:"input-group-text",id:"proficiencyLabel",children:"Proficiency"}),(0,i.jsxs)("select",{className:"form-select","aria-label":"Proficiency",value:o.proficiency,onChange:e=>d({...o,proficiency:e.target.value}),children:[(0,i.jsx)("option",{value:"Please select",children:"Please select"}),(0,i.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,i.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,i.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,i.jsxs)("div",{className:"form-group mb-3",children:[(0,i.jsx)("label",{children:"Do you have a certificate?"}),(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{type:"radio",className:"form-check-input",id:"certificateTrue",name:"certificate",value:"true",checked:o.certified,onChange:()=>d({...o,certified:!0})}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"certificateTrue",children:"True"})]}),(0,i.jsxs)("div",{className:"form-check",children:[(0,i.jsx)("input",{type:"radio",className:"form-check-input",id:"certificateFalse",name:"certificate",value:"false",checked:!o.certified,onChange:()=>d({...o,certified:!1})}),(0,i.jsx)("label",{className:"form-check-label",htmlFor:"certificateFalse",children:"False"})]})]}),o.certified&&(0,i.jsxs)("div",{id:"dateInputs",className:"mb-3",children:[(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"issueDate",children:"Issue Date:"}),(0,i.jsx)("input",{type:"date",className:"form-control",id:"issueDate",name:"issueDate",value:o.issueDate,onChange:e=>d({...o,issueDate:e.target.value})})]}),(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"expirationDate",children:"Expiration Date:"}),(0,i.jsx)("input",{type:"date",className:"form-control",id:"expirationDate",name:"expirationDate",value:o.expirationDate,onChange:e=>d({...o,expirationDate:e.target.value})})]})]}),(0,i.jsx)("button",{className:"btn btn-success w-25",style:{marginRight:"5px"},onClick:handleAddSkill,children:"Add"}),(0,i.jsx)("button",{className:"btn btn-primary w-25",onClick:handleUpdateSkill,children:"Update"}),(0,i.jsx)("ul",{className:"list-group",children:(null==c?void 0:c.skills)&&(null==c?void 0:c.skills.map((e,l)=>(0,i.jsxs)("li",{className:"list-group-item ",children:[(0,i.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,i.jsx)("h5",{children:e.name}),e.certified&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("small",{className:"text-muted",children:(0,i.jsxs)("p",{children:["Certified ",new Date(e.certificationIssueDate).toLocaleDateString()]})})})]}),(0,i.jsxs)("p",{children:["Proficiency: ",e.proficiency]}),(0,i.jsx)("button",{className:"btn btn-warning",style:{marginRight:"5px"},onClick:()=>{d({name:e.name,proficiency:e.proficiency,certified:e.certified,issueDate:e.issueDate||"",expirationDate:e.expirationDate||""}),m(e._id)},children:"Edit"}),(0,i.jsx)("button",{className:"btn btn-danger",onClick:()=>handleDeleteSkill(e._id),children:"Delete"})]},e._id)))})]})}},8978:function(e,l,s){"use strict";s.d(l,{M:function(){return setUserData}});let i={_id:"",username:"",password:"",position:"",company:"",firstName:"",lastName:"",email:"",cellphone:"",city:"",country:"",role:"",about:"",skills:[],likes:[]},t="SET_USER_DATA",setUserData=e=>({type:t,payload:e});l.ZP=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case t:return{...e,...l.payload};case"CREATE_SKILL":return{...e,skills:[...e.skills,l.payload]};case"UPDATE_SKILL":return{...e,skills:e.skills.map(e=>e.id===l.payload.id?l.payload:e)};case"DELETE_SKILL":return{...e,skills:e.skills.filter(e=>e.id!==l.payload)};default:return e}}},1571:function(){},9696:function(){}},function(e){e.O(0,[447,652,306,712,580,198,396,325,971,864,744],function(){return e(e.s=9)}),_N_E=e.O()}]);